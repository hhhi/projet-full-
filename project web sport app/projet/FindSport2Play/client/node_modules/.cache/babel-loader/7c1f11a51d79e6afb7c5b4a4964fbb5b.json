{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\src\\\\components\\\\event\\\\EventItem.js\";\nimport React, { Component } from 'react';\nimport Moment from 'react-moment';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Paper, Grid, Box, Chip, Avatar, Snackbar, IconButton, ButtonGroup, Button, Typography } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport GroupIcon from '@material-ui/icons/Group';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport ReportIcon from '@material-ui/icons/Report';\nimport MapView from './map/MapView';\nimport DeleteDialog from '../common/DeleteDialog';\nimport styles from './Event.module.css';\nimport sportImage from \"../../img/noImage.svg\";\nimport { deleteEvent, joinEvent, flagEvent } from '../../actions/eventActions';\n\nvar EventItem = /*#__PURE__*/function (_Component) {\n  _inherits(EventItem, _Component);\n\n  function EventItem() {\n    var _this;\n\n    _classCallCheck(this, EventItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EventItem).call(this));\n    _this.state = {\n      openDeleteDialog: false,\n      openSnackbar: false\n    };\n    return _this;\n  }\n\n  _createClass(EventItem, [{\n    key: \"handleClickOpen\",\n    value: function handleClickOpen() {\n      this.setState({\n        openDeleteDialog: true\n      });\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        openDeleteDialog: false\n      });\n    }\n  }, {\n    key: \"handleCloseSnackbar\",\n    value: function handleCloseSnackbar() {\n      this.setState({\n        openSnackbar: false\n      });\n    }\n  }, {\n    key: \"onDeleteClick\",\n    value: function onDeleteClick(id) {\n      this.props.deleteEvent(id);\n      this.props.history.push('/events');\n    }\n  }, {\n    key: \"onJoinClick\",\n    value: function onJoinClick(id) {\n      if (!this.props.auth.isAuthenticated) {\n        this.props.history.push('/login');\n      }\n\n      this.setState({\n        openSnackbar: true\n      });\n      this.props.joinEvent(id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          event = _this$props.event,\n          snackbarMessage = _this$props.snackbarMessage,\n          auth = _this$props.auth;\n      return /*#__PURE__*/React.createElement(Paper, {\n        className: \"pad-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.labelInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }\n      }, \"Type of Sport\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }\n      }, event.typeofsport)), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.labelInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 33\n        }\n      }, \"Number of Player\"), /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(GroupIcon, {\n        className: styles.icon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 37\n        }\n      }, event.numberofplayer)))), /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.labelInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }, \"Location\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, event.location ? event.location : \"To Be Announced\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.labelInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, \"Start Date\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }\n      }, event.start ? /*#__PURE__*/React.createElement(Moment, {\n        format: \"MMMM Do, YYYY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 44\n        }\n      }, event.start) : \"To Be Announced\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.labelInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, event.description ? event.description : \"None\"), /*#__PURE__*/React.createElement(Typography, {\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }\n      }, \"Host By \", /*#__PURE__*/React.createElement(Link, {\n        to: \"/profile/\".concat(event.user._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 37\n        }\n      }, event.user.name))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        md: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        style: {\n          width: '100%',\n          display: 'block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ButtonGroup, {\n        className: \"floatRight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }, event.user._id === auth.user.id ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: Link,\n        to: \"/edit-event/\".concat(event.user._id),\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(EditIcon, {\n        style: {\n          fontSize: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 45\n        }\n      })), /*#__PURE__*/React.createElement(IconButton, {\n        onClick: this.handleClickOpen.bind(this),\n        variant: \"contained\",\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(DeleteForeverIcon, {\n        style: {\n          fontSize: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 45\n        }\n      }))) : null, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: this.props.flagEvent.bind(this, event._id),\n        variant: \"contained\",\n        color: \"secondary\",\n        edge: \"start\",\n        disabled: event.flag,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(ReportIcon, {\n        style: {\n          fontSize: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: '100%'\n        },\n        src: event.imageURL ? event.imageURL : sportImage,\n        alt: \"Sport\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }), event.address ? /*#__PURE__*/React.createElement(MapView, {\n        coordinates: event.address.coordinates,\n        location: event.location,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 34\n        }\n      }) : null, /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"primary-color\",\n        onClick: this.onJoinClick.bind(this, event._id),\n        variant: \"contained\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, auth.isAuthenticated ? \"Join This Event\" : \"Login to Join\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"marginL-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, event.numberofplayer - event.listofplayer.length, \" spots left\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"marginT-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, event.listofplayer.map(function (player, index) {\n        return /*#__PURE__*/React.createElement(Chip, {\n          key: player._id,\n          className: \"marginR-1 marginX-1\",\n          avatar: /*#__PURE__*/React.createElement(Avatar, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }\n          }, index + 1),\n          label: player.name,\n          variant: \"outlined\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 32\n          }\n        });\n      })), /*#__PURE__*/React.createElement(DeleteDialog, {\n        onDeleteClick: this.onDeleteClick.bind(this, event._id),\n        openDeleteDialog: this.state.openDeleteDialog,\n        handleClose: this.handleClose.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Snackbar, {\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        open: this.state.openSnackbar,\n        autoHideDuration: 5000,\n        onClose: this.handleCloseSnackbar.bind(this),\n        message: snackbarMessage,\n        action: /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          size: \"small\",\n          \"aria-label\": \"close\",\n          color: \"inherit\",\n          onClick: this.handleCloseSnackbar.bind(this),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(CloseIcon, {\n          fontSize: \"small\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 33\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }));\n    }\n  }]);\n\n  return EventItem;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deleteEvent: deleteEvent,\n  joinEvent: joinEvent,\n  flagEvent: flagEvent\n})(withRouter(EventItem));","map":{"version":3,"sources":["C:/Users/fatha/Desktop/projet/FindSport2Play/client/src/components/event/EventItem.js"],"names":["React","Component","Moment","Link","connect","withRouter","Paper","Grid","Box","Chip","Avatar","Snackbar","IconButton","ButtonGroup","Button","Typography","CloseIcon","GroupIcon","EditIcon","DeleteForeverIcon","ReportIcon","MapView","DeleteDialog","styles","deleteEvent","joinEvent","flagEvent","EventItem","state","openDeleteDialog","openSnackbar","setState","id","props","history","push","auth","isAuthenticated","event","snackbarMessage","labelInfo","typeofsport","icon","numberofplayer","location","start","description","user","_id","name","width","display","fontSize","handleClickOpen","bind","flag","imageURL","sportImage","address","coordinates","onJoinClick","listofplayer","length","map","player","index","onDeleteClick","handleClose","vertical","horizontal","handleCloseSnackbar","mapStateToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiCC,MAAjC,EAAyCC,QAAzC,EAAmDC,UAAnD,EAA+DC,WAA/D,EAA4EC,MAA5E,EAAoFC,UAApF,QAAsG,mBAAtG;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,SAAjC,QAAkD,4BAAlD;;IAEMC,S;;;AACF,uBAAa;AAAA;;AAAA;;AACT;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,gBAAgB,EAAE,KADT;AAETC,MAAAA,YAAY,EAAE;AAFL,KAAb;AAFS;AAMZ;;;;sCACgB;AACb,WAAKC,QAAL,CAAc;AAAEF,QAAAA,gBAAgB,EAAG;AAArB,OAAd;AACH;;;kCAEY;AACT,WAAKE,QAAL,CAAc;AAAEF,QAAAA,gBAAgB,EAAG;AAArB,OAAd;AACH;;;0CAEoB;AACjB,WAAKE,QAAL,CAAc;AAAED,QAAAA,YAAY,EAAG;AAAjB,OAAd;AACH;;;kCAEaE,E,EAAG;AACb,WAAKC,KAAL,CAAWT,WAAX,CAAuBQ,EAAvB;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACH;;;gCAEWH,E,EAAG;AACX,UAAG,CAAC,KAAKC,KAAL,CAAWG,IAAX,CAAgBC,eAApB,EAAoC;AAChC,aAAKJ,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH;;AACD,WAAKJ,QAAL,CAAc;AAAED,QAAAA,YAAY,EAAG;AAAjB,OAAd;AAEA,WAAKG,KAAL,CAAWR,SAAX,CAAqBO,EAArB;AACH;;;6BAEO;AAAA;;AAAA,wBACmC,KAAKC,KADxC;AAAA,UACGK,KADH,eACGA,KADH;AAAA,UACUC,eADV,eACUA,eADV;AAAA,UAC2BH,IAD3B,eAC2BA,IAD3B;AAGJ,0BACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAEb,MAAM,CAACiB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCF,KAAK,CAACG,WAA1C,CAFJ,CADJ,eAMI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAElB,MAAM,CAACiB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI,oBAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAEjB,MAAM,CAACmB,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCJ,KAAK,CAACK,cAA1C,CAFJ,CAFJ,CANJ,CADJ,eAgBI;AAAM,QAAA,SAAS,EAAEpB,MAAM,CAACiB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBJ,eAiBI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCF,KAAK,CAACM,QAAN,GAAiBN,KAAK,CAACM,QAAvB,GAAkC,iBAAtE,CAjBJ,eAmBI;AAAM,QAAA,SAAS,EAAErB,MAAM,CAACiB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBJ,eAoBI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKF,KAAK,CAACO,KAAN,gBAAc,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCP,KAAK,CAACO,KAAtC,CAAd,GAAsE,iBAD3E,CApBJ,eAwBI;AAAM,QAAA,SAAS,EAAEtB,MAAM,CAACiB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAxBJ,eAyBI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKF,KAAK,CAACQ,WAAN,GAAoBR,KAAK,CAACQ,WAA1B,GAAwC,MAD7C,CAzBJ,eA6BI,oBAAC,UAAD;AAAY,QAAA,SAAS,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACY,oBAAC,IAAD;AAAM,QAAA,EAAE,qBAAcR,KAAK,CAACS,IAAN,CAAWC,GAAzB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACHV,KAAK,CAACS,IAAN,CAAWE,IADR,CADZ,CA7BJ,CADJ,eAoCI,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,IAAI,MAApB;AAAqB,QAAA,EAAE,EAAE,EAAzB;AAA6B,QAAA,EAAE,EAAE,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,MAAR;AAAgBC,UAAAA,OAAO,EAAE;AAAzB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKb,KAAK,CAACS,IAAN,CAAWC,GAAX,KAAmBZ,IAAI,CAACW,IAAL,CAAUf,EAA7B,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,UAAD;AACI,QAAA,SAAS,EAAE7B,IADf;AAEI,QAAA,EAAE,wBAAiBmC,KAAK,CAACS,IAAN,CAAWC,GAA5B,CAFN;AAGI,QAAA,OAAO,EAAC,WAHZ;AAII,QAAA,KAAK,EAAC,SAJV;AAKI,QAAA,QAAQ,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMI,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE;AAAEI,UAAAA,QAAQ,EAAE;AAAZ,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CADJ,eASI,oBAAC,UAAD;AACI,QAAA,OAAO,EAAE,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CADb;AAEI,QAAA,OAAO,EAAC,WAFZ;AAGI,QAAA,KAAK,EAAC,WAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAII,oBAAC,iBAAD;AAAmB,QAAA,KAAK,EAAE;AAAEF,UAAAA,QAAQ,EAAE;AAAZ,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CATJ,CADH,GAiBG,IAlBR,eAmBI,oBAAC,UAAD;AACI,QAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWP,SAAX,CAAqB4B,IAArB,CAA0B,IAA1B,EAAgChB,KAAK,CAACU,GAAtC,CADb;AAEI,QAAA,OAAO,EAAC,WAFZ;AAGI,QAAA,KAAK,EAAC,WAHV;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,QAAQ,EAAEV,KAAK,CAACiB,IALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMI,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE;AAAEH,UAAAA,QAAQ,EAAE;AAAZ,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CAnBJ,CADJ,CADJ,eA+BI;AAAK,QAAA,KAAK,EAAE;AAACF,UAAAA,KAAK,EAAE;AAAR,SAAZ;AAA6B,QAAA,GAAG,EAAEZ,KAAK,CAACkB,QAAN,GAAiBlB,KAAK,CAACkB,QAAvB,GAAkCC,UAApE;AAAgF,QAAA,GAAG,EAAC,OAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BJ,CApCJ,CADJ,eAuEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvEJ,EAwEKnB,KAAK,CAACoB,OAAN,gBAAgB,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAEpB,KAAK,CAACoB,OAAN,CAAcC,WAApC;AAAiD,QAAA,QAAQ,EAAErB,KAAK,CAACM,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB,GAA+F,IAxEpG,eAyEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzEJ,eA0EI,oBAAC,GAAD;AAAK,QAAA,OAAO,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD;AACI,QAAA,SAAS,EAAC,eADd;AAEI,QAAA,OAAO,EAAE,KAAKgB,WAAL,CAAiBN,IAAjB,CAAsB,IAAtB,EAA4BhB,KAAK,CAACU,GAAlC,CAFb;AAGI,QAAA,OAAO,EAAC,WAHZ;AAII,QAAA,KAAK,EAAC,SAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKKZ,IAAI,CAACC,eAAL,GAAuB,iBAAvB,GAA2C,eALhD,CADJ,eAQI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0BC,KAAK,CAACK,cAAN,GAAuBL,KAAK,CAACuB,YAAN,CAAmBC,MAApE,gBARJ,CA1EJ,eAoFI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACMxB,KAAK,CAACuB,YAAN,CAAmBE,GAAnB,CAAuB,UAACC,MAAD,EAASC,KAAT,EAAmB;AACxC,4BAAO,oBAAC,IAAD;AACH,UAAA,GAAG,EAAED,MAAM,CAAChB,GADT;AAEH,UAAA,SAAS,EAAC,qBAFP;AAGH,UAAA,MAAM,eAAE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAASiB,KAAK,GAAG,CAAjB,CAHL;AAIH,UAAA,KAAK,EAAED,MAAM,CAACf,IAJX;AAKH,UAAA,OAAO,EAAC,UALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAMH,OAPC,CADN,CApFJ,eA8FI,oBAAC,YAAD;AACI,QAAA,aAAa,EAAE,KAAKiB,aAAL,CAAmBZ,IAAnB,CAAwB,IAAxB,EAA8BhB,KAAK,CAACU,GAApC,CADnB;AAEI,QAAA,gBAAgB,EAAE,KAAKpB,KAAL,CAAWC,gBAFjC;AAGI,QAAA,WAAW,EAAE,KAAKsC,WAAL,CAAiBb,IAAjB,CAAsB,IAAtB,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9FJ,eAmGQ,oBAAC,QAAD;AACI,QAAA,YAAY,EAAE;AACVc,UAAAA,QAAQ,EAAE,KADA;AAEVC,UAAAA,UAAU,EAAE;AAFF,SADlB;AAKI,QAAA,IAAI,EAAE,KAAKzC,KAAL,CAAWE,YALrB;AAMI,QAAA,gBAAgB,EAAE,IANtB;AAOI,QAAA,OAAO,EAAE,KAAKwC,mBAAL,CAAyBhB,IAAzB,CAA8B,IAA9B,CAPb;AAQI,QAAA,OAAO,EAAEf,eARb;AASI,QAAA,MAAM,eACN,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAC,OAAjB;AAAyB,wBAAW,OAApC;AAA4C,UAAA,KAAK,EAAC,SAAlD;AAA4D,UAAA,OAAO,EAAE,KAAK+B,mBAAL,CAAyBhB,IAAzB,CAA8B,IAA9B,CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,CAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnGR,CADJ;AAuHH;;;;EA5JmBrD,S;;AA+JxB,IAAMsE,eAAe,GAAG,SAAlBA,eAAkB,CAAA3C,KAAK;AAAA,SAAK;AAC9BQ,IAAAA,IAAI,EAAER,KAAK,CAACQ;AADkB,GAAL;AAAA,CAA7B;;AAIA,eAAehC,OAAO,CAACmE,eAAD,EAAkB;AAAE/C,EAAAA,WAAW,EAAXA,WAAF;AAAeC,EAAAA,SAAS,EAATA,SAAf;AAA0BC,EAAAA,SAAS,EAATA;AAA1B,CAAlB,CAAP,CAAgErB,UAAU,CAACsB,SAAD,CAA1E,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Paper, Grid, Box, Chip, Avatar, Snackbar, IconButton, ButtonGroup, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport ReportIcon from '@material-ui/icons/Report';\r\n\r\nimport MapView from './map/MapView';\r\nimport DeleteDialog from '../common/DeleteDialog';\r\nimport styles from './Event.module.css';\r\nimport sportImage from '../../img/noImage.svg';\r\nimport { deleteEvent, joinEvent, flagEvent } from '../../actions/eventActions';\r\n\r\nclass EventItem extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            openDeleteDialog: false,\r\n            openSnackbar: false\r\n        };\r\n    }\r\n    handleClickOpen(){\r\n        this.setState({ openDeleteDialog : true});\r\n    };\r\n    \r\n    handleClose(){\r\n        this.setState({ openDeleteDialog : false});\r\n    };\r\n\r\n    handleCloseSnackbar(){\r\n        this.setState({ openSnackbar : false});\r\n    };\r\n\r\n    onDeleteClick(id){\r\n        this.props.deleteEvent(id);\r\n        this.props.history.push('/events');\r\n    }\r\n    \r\n    onJoinClick(id){\r\n        if(!this.props.auth.isAuthenticated){\r\n            this.props.history.push('/login');\r\n        }\r\n        this.setState({ openSnackbar : true});\r\n\r\n        this.props.joinEvent(id);\r\n    }\r\n    \r\n    render(){\r\n        const {event, snackbarMessage, auth} = this.props;\r\n        \r\n        return(\r\n            <Paper className=\"pad-2\">\r\n                <Grid container>\r\n                    <Grid item xs={12} md={6}>\r\n                        <Grid container spacing={6}>\r\n                            <Grid item xs={6}>\r\n                                <span className={styles.labelInfo}>Type of Sport</span>\r\n                                <Typography variant=\"h6\" paragraph>{event.typeofsport}</Typography>\r\n                            </Grid>\r\n                            \r\n                            <Grid item xs={6}>\r\n                                <span className={styles.labelInfo}>Number of Player</span>\r\n                                <Box display=\"flex\">\r\n                                    <GroupIcon className={styles.icon} />\r\n                                    <Typography variant=\"h6\" paragraph>{event.numberofplayer}</Typography>\r\n                                </Box>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <span className={styles.labelInfo}>Location</span>\r\n                        <Typography variant=\"h6\" paragraph>{event.location ? event.location : \"To Be Announced\"}</Typography>\r\n                        \r\n                        <span className={styles.labelInfo}>Start Date</span>\r\n                        <Typography variant=\"h6\" paragraph>\r\n                            {event.start ? <Moment format=\"MMMM Do, YYYY\">{event.start}</Moment> : \"To Be Announced\"}\r\n                        </Typography>\r\n                        \r\n                        <span className={styles.labelInfo}>Description</span>\r\n                        <Typography variant=\"h6\" paragraph>\r\n                            {event.description ? event.description : \"None\"}\r\n                        </Typography>\r\n                        \r\n                        <Typography paragraph>\r\n                            Host By <Link to={`/profile/${event.user._id}`}>\r\n                                {event.user.name}\r\n                            </Link>\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid container item xs={12} md={6}>\r\n                        <Box style={{width: '100%', display: 'block'}}>\r\n                            <ButtonGroup className=\"floatRight\">\r\n                                {event.user._id === auth.user.id ? (\r\n                                    <div>\r\n                                        <IconButton\r\n                                            component={Link}\r\n                                            to={`/edit-event/${event.user._id}`}\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            disabled >\r\n                                            <EditIcon style={{ fontSize: 30 }} />\r\n                                        </IconButton>\r\n                                        <IconButton \r\n                                            onClick={this.handleClickOpen.bind(this)}\r\n                                            variant=\"contained\"\r\n                                            color=\"secondary\" >\r\n                                            <DeleteForeverIcon style={{ fontSize: 30 }} />\r\n                                        </IconButton>\r\n                                    </div>\r\n                                ) : null}\r\n                                <IconButton\r\n                                    onClick={this.props.flagEvent.bind(this, event._id)}\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    edge=\"start\"\r\n                                    disabled={event.flag} >\r\n                                    <ReportIcon style={{ fontSize: 30 }} />\r\n                                </IconButton>\r\n                            </ButtonGroup>\r\n                        </Box>\r\n                        <img style={{width: '100%'}} src={event.imageURL ? event.imageURL : sportImage} alt=\"Sport\" />\r\n                    </Grid>\r\n                </Grid>\r\n                <hr />\r\n                {event.address ? <MapView coordinates={event.address.coordinates} location={event.location}/> : null}\r\n                <hr />\r\n                <Box display=\"flex\">\r\n                    <Button \r\n                        className=\"primary-color\"\r\n                        onClick={this.onJoinClick.bind(this, event._id)}\r\n                        variant=\"contained\"\r\n                        color=\"primary\" >\r\n                        {auth.isAuthenticated ? \"Join This Event\" : \"Login to Join\"}\r\n                    </Button>\r\n                    <p className=\"marginL-1\">{event.numberofplayer - event.listofplayer.length} spots left</p>\r\n                </Box>\r\n                <div className=\"marginT-1\">\r\n                    { event.listofplayer.map((player, index) => {\r\n                        return <Chip\r\n                            key={player._id}\r\n                            className=\"marginR-1 marginX-1\"\r\n                            avatar={<Avatar>{index + 1}</Avatar>} \r\n                            label={player.name}\r\n                            variant=\"outlined\" />\r\n                    }) }\r\n                </div>\r\n                <DeleteDialog\r\n                    onDeleteClick={this.onDeleteClick.bind(this, event._id)}\r\n                    openDeleteDialog={this.state.openDeleteDialog}\r\n                    handleClose={this.handleClose.bind(this)} />\r\n\r\n                    <Snackbar\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        open={this.state.openSnackbar}\r\n                        autoHideDuration={5000}\r\n                        onClose={this.handleCloseSnackbar.bind(this)}\r\n                        message={snackbarMessage}\r\n                        action={\r\n                        <React.Fragment>\r\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleCloseSnackbar.bind(this)}>\r\n                                <CloseIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                        }\r\n                    />\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { deleteEvent, joinEvent, flagEvent })(withRouter(EventItem));"]},"metadata":{},"sourceType":"module"}