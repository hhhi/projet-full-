{"ast":null,"code":"import axios from '../axios-lists';\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, GET_NOTIFICATION } from './types';\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    dispatch(getNotification());\n    axios.get('/api/profile').then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n};\nexport var getUserProfile = function getUserProfile(id) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    dispatch(getNotification());\n    axios.get(\"/api/profile/user/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n};\nexport var createProfile = function createProfile(profileData, history) {\n  return function (dispatch) {\n    axios.post('/api/profile', profileData).then(function (res) {\n      return history.push('/profile');\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n};\nexport var getNotification = function getNotification() {\n  return function (dispatch) {\n    axios.get(\"/api/notification\").then(function (res) {\n      return dispatch({\n        type: GET_NOTIFICATION,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/fatha/Desktop/projet/FindSport2Play/client/src/actions/profileActions.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","GET_ERRORS","GET_NOTIFICATION","getCurrentProfile","dispatch","setProfileLoading","getNotification","get","then","res","type","payload","data","catch","err","getUserProfile","id","createProfile","profileData","history","post","push","response","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AAEA,SAASC,WAAT,EAAsBC,eAAtB,EAAuCC,UAAvC,EAAmDC,gBAAnD,QAA2E,SAA3E;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC/CA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAD,IAAAA,QAAQ,CAACE,eAAe,EAAhB,CAAR;AACAR,IAAAA,KAAK,CAACS,GAAN,CAAU,cAAV,EACKC,IADL,CACU,UAAAC,GAAG;AAAA,aACLL,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEX,WADD;AAELY,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,OAAD,CADH;AAAA,KADb,EAOKC,KAPL,CAOW,UAAAC,GAAG;AAAA,aACNV,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEX,WADD;AAELY,QAAAA,OAAO,EAAE;AAFJ,OAAD,CADF;AAAA,KAPd;AAaH,GAhBgC;AAAA,CAA1B;AAkBP,OAAO,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,EAAD;AAAA,SAAQ,UAAAZ,QAAQ,EAAI;AAC9CA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAD,IAAAA,QAAQ,CAACE,eAAe,EAAhB,CAAR;AACAR,IAAAA,KAAK,CAACS,GAAN,6BAA+BS,EAA/B,GACKR,IADL,CACU,UAAAC,GAAG;AAAA,aACLL,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEX,WADD;AAELY,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,OAAD,CADH;AAAA,KADb,EAOKC,KAPL,CAOW,UAAAC,GAAG;AAAA,aACNV,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAEX,WADD;AAELY,QAAAA,OAAO,EAAE;AAFJ,OAAD,CADF;AAAA,KAPd;AAaH,GAhB6B;AAAA,CAAvB;AAkBP,OAAO,IAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAACC,WAAD,EAAcC,OAAd;AAAA,SAA0B,UAAAf,QAAQ,EAAI;AAC/DN,IAAAA,KAAK,CACAsB,IADL,CACU,cADV,EAC0BF,WAD1B,EAEKV,IAFL,CAEU,UAAAC,GAAG;AAAA,aAAIU,OAAO,CAACE,IAAR,CAAa,UAAb,CAAJ;AAAA,KAFb,EAGKR,KAHL,CAGW,UAAAC,GAAG;AAAA,aACNV,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAET,UADD;AAELU,QAAAA,OAAO,EAAEG,GAAG,CAACQ,QAAJ,CAAaV;AAFjB,OAAD,CADF;AAAA,KAHd;AASH,GAV4B;AAAA,CAAtB;AAYP,OAAO,IAAMP,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACnC,SAAM;AACFK,IAAAA,IAAI,EAAEV;AADJ,GAAN;AAGH,CAJM;AAMP,OAAO,IAAMM,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAM,UAAAF,QAAQ,EAAI;AAC/CN,IAAAA,KAAK,CACFS,GADH,sBAEGC,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACLL,QAAQ,CAAC;AACLM,QAAAA,IAAI,EAAER,gBADD;AAELS,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,OAAD,CADH;AAAA,KAFX,EAQGC,KARH,CAQS,UAAAC,GAAG;AAAA,aACNS,OAAO,CAACC,GAAR,CAAYV,GAAZ,CADM;AAAA,KARZ;AAWD,GAZ8B;AAAA,CAAxB","sourcesContent":["import axios from '../axios-lists';\r\n\r\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, GET_NOTIFICATION } from './types';\r\n\r\nexport const getCurrentProfile = () => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    dispatch(getNotification());\r\n    axios.get('/api/profile')\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(err => \r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: {}\r\n            })\r\n        );\r\n};\r\n\r\nexport const getUserProfile = (id) => dispatch => {\r\n    dispatch(setProfileLoading());\r\n    dispatch(getNotification());\r\n    axios.get(`/api/profile/user/${id}`)\r\n        .then(res =>\r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: res.data\r\n            })\r\n        )\r\n        .catch(err => \r\n            dispatch({\r\n                type: GET_PROFILE,\r\n                payload: {}\r\n            })\r\n        );\r\n};\r\n\r\nexport const createProfile = (profileData, history) => dispatch => {\r\n    axios\r\n        .post('/api/profile', profileData)\r\n        .then(res => history.push('/profile'))\r\n        .catch(err => \r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            })\r\n        );\r\n};\r\n\r\nexport const setProfileLoading = () => {\r\n    return{\r\n        type: PROFILE_LOADING\r\n    };\r\n};\r\n\r\nexport const getNotification = () => dispatch => {\r\n  axios\r\n    .get(`/api/notification`)\r\n    .then(res => \r\n        dispatch({\r\n            type: GET_NOTIFICATION,\r\n            payload: res.data\r\n        })\r\n    )\r\n    .catch(err =>\r\n        console.log(err)\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}