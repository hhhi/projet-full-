{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\fatha\\\\Desktop\\\\projet\\\\FindSport2Play\\\\client\\\\src\\\\components\\\\auth\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Grid, Card, CardContent, CircularProgress, Typography, Button } from '@material-ui/core';\nimport styles from './Login.module.css';\nimport TextFieldGroup from '../common/TextFieldGroup';\nimport { loginUser } from '../../actions/authActions';\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push('/events');\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push('/events');\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      var userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.loginUser(userData);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      var auth = this.props.auth;\n      var login = styles.login,\n          login__card = styles.login__card,\n          login__info = styles.login__info,\n          btn__progress = styles.btn__progress;\n      return /*#__PURE__*/React.createElement(Grid, {\n        className: login,\n        container: true,\n        justify: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: login__card,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: \"primary-textColor\",\n        variant: \"h5\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, \"Log In\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      }, errors.servererror), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TextFieldGroup, {\n        label: \"Email\",\n        placeholder: \"Email\",\n        name: \"email\",\n        type: \"email\",\n        value: this.state.email,\n        onChange: this.onChange,\n        error: errors.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(TextFieldGroup, {\n        label: \"Password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.onChange,\n        error: errors.password,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        className: auth.loading ? \"relative\" : \"relative primary-color marginT-1\",\n        type: \"submit\",\n        variant: \"contained\",\n        disabled: auth.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 24\n        }\n      }, \"Submit\", auth.loading && /*#__PURE__*/React.createElement(CircularProgress, {\n        size: 24,\n        className: btn__progress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 44\n        }\n      }))), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle2\",\n        className: login__info,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, \"Dont have an account? \", /*#__PURE__*/React.createElement(Link, {\n        to: \"/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 45\n        }\n      }, \"Sign Up\"))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["C:/Users/fatha/Desktop/projet/FindSport2Play/client/src/components/auth/Login.js"],"names":["React","Component","Link","connect","Grid","Card","CardContent","CircularProgress","Typography","Button","styles","TextFieldGroup","loginUser","Login","state","email","password","errors","onChange","bind","onSubmit","props","auth","isAuthenticated","history","push","nextProps","setState","e","target","name","value","preventDefault","userData","login","login__card","login__info","btn__progress","servererror","loading","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Grid, Card, CardContent, CircularProgress, Typography, Button } from '@material-ui/core';\r\n\r\nimport styles from './Login.module.css';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport { loginUser } from '../../actions/authActions';\r\n\r\nclass Login extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errors: {}\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    \r\n    componentDidMount(){\r\n      if(this.props.auth.isAuthenticated){\r\n        this.props.history.push('/events');\r\n      }\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps){\r\n      if(nextProps.auth.isAuthenticated){\r\n        this.props.history.push('/events');\r\n      }\r\n      if(nextProps.errors){\r\n        this.setState({errors: nextProps.errors});\r\n      }\r\n    }\r\n    \r\n    onChange(e){\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n    \r\n    onSubmit(e){\r\n        e.preventDefault();\r\n        const userData = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n        \r\n        this.props.loginUser(userData);\r\n    }\r\n    \r\n    render(){\r\n        const {errors} = this.state;\r\n        const {auth} = this.props;\r\n\r\n        const {\r\n          login,\r\n          login__card,\r\n          login__info,\r\n          btn__progress } = styles;\r\n        \r\n        return(\r\n            <Grid className={login} container justify=\"center\">\r\n              <Grid item xs={12} sm={8} md={6}>\r\n                <Card className={login__card}>\r\n                  <CardContent>\r\n                    <Typography className=\"primary-textColor\" variant=\"h5\" paragraph>\r\n                      Log In\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"secondary\">\r\n                      {errors.servererror}\r\n                    </Typography>\r\n                    <form onSubmit={this.onSubmit} className=\"mb-2\">\r\n                      <TextFieldGroup\r\n                        label=\"Email\"\r\n                        placeholder=\"Email\"\r\n                        name=\"email\"\r\n                        type=\"email\"\r\n                        value={this.state.email}\r\n                        onChange={this.onChange}\r\n                        error={errors.email}\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Password\"\r\n                        placeholder=\"Password\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChange}\r\n                        error={errors.password}\r\n                      />\r\n                       <Button\r\n                          className={auth.loading ? \"relative\" : \"relative primary-color marginT-1\"}\r\n                          type=\"submit\"\r\n                          variant=\"contained\"\r\n                          disabled={auth.loading}>\r\n                          Submit\r\n                          {auth.loading && <CircularProgress size={24} className={btn__progress} />}\r\n                        </Button>\r\n                    </form>\r\n                    <Typography variant=\"subtitle2\" className={login__info}>\r\n                      Dont have an account? <Link to=\"/register\">Sign Up</Link>\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {loginUser})(Login);"]},"metadata":{},"sourceType":"module"}